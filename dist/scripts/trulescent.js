"use strict";angular.module("trulescent",["ngAnimate","ngCookies","ngTouch","ngSanitize"]),angular.module("trulescent").controller("MainCtrl",["$scope",function(t){t.awesomeThings=[{key:"angular",title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{key:"browsersync",title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{key:"gulp",title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{key:"jasmine",title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{key:"karma",title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{key:"protractor",title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{key:"less",title:"Less",url:"http://lesscss.org/",description:"Less extends the CSS language, adding features that allow variables, mixins, functions and many other techniques.",logo:"less.png"}],angular.forEach(t.awesomeThings,function(t){t.rank=Math.random()}),t.steps=[{tooltip:{content:"yop",template:'<div class="tlsc-tooltip"><div>{{content}} de la balle</div><button class="btn" ng-click="prevStep()">Back</button><button class="btn" ng-click="nextStep()">Next</button><button class="btn" ng-click="stop()">End</button></div>',placement:"top"},location:{selector:".thumbnail"},transition:{event:"click",selector:"#btn-tlsc-test"}},{tooltip:{content:"jumbotron",placement:"bottom"},location:{selector:".jumbotron"},transition:{watch:"stuff",selector:"#test-stuff",afterValue:void 0,testValue:"caca"},preFn:function(){console.log("pre")},postFn:function(){console.log("post")}},{tooltip:{content:"yop",template:'<div class="tlsc-tooltip"><div>{{content}} de la balle</div><button class="btn" ng-click="prevStep()">Back</button><button class="btn" ng-click="nextStep()">Next</button><button class="btn" ng-click="stop()">End</button></div>',placement:"top"},location:{selector:".thumbnail"},transition:{event:"click",selector:"#btn-tlsc-test"}}],t.go=function(){t.startTlsc=!0}}]),angular.module("trulescent").service("tlscTools",function(){this.animationDurationMilli=200,this.cumulativeOffset=function(t){var e=0,n=0;do e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent;while(t);return{top:e,left:n}}}),angular.module("trulescent").controller("BackdropCtrl",["$scope","tlscTools",function(t,e){t.$on("tlsc.backdrop.move",function(n,o){{var l=document.querySelector(o),c=(angular.element(l),e.cumulativeOffset(l));l.offsetWidth,l.offsetHeight}t.placement={top:c.top,left:c.left,width:l.clientWidth,height:l.clientHeight}})}]),angular.module("trulescent").directive("tlscPanel",function(){return{restrict:"EA",replace:"true",templateUrl:"components/backdrop/panel/panel.html",link:function(t,e){t.$watch("placement",function(){_.each(t.placement,function(t,n){e.css(n,t+"px")})})}}}),angular.module("trulescent").directive("tlscTooltip",["$timeout","tlscTools","$compile","$templateCache",function(t,e,n,o){return{restrict:"EA",scope:{step:"="},templateUrl:"components/tooltip/tooltip.html",link:function(l,c){function a(t,n){var o,l=document.querySelector(n),a=e.cumulativeOffset(l);switch(t){case"top":o={bottom:window.innerHeight-a.top+10+"px",left:a.left+"px",top:"auto",right:"auto"};break;case"right":o={top:a.top+"px",left:window.innerWidth-a.left-l.clientWidth-10+"px",bottom:"auto",right:"auto"};break;case"bottom":o={top:a.top+l.clientHeight+10+"px",left:a.left+"px",bottom:"auto",right:"auto"};break;case"left":o={top:a.top+"px",right:window.innerWidth-a.left-l.clientWidth+10+"px",bottom:"auto",left:"auto"}}o.width=l.clientWidth,o.height=l.clientHeight,c.css(o)}l.nextStep=function(){l.$emit("tlsc.next")},l.prevStep=function(){l.$emit("tlsc.prev")},l.stop=function(){l.$emit("tlsc.end")},l.$watch("step",function(s){angular.isDefined(s)&&(s.tooltip.template?(l.content=s.tooltip.content,c.empty().append(n(s.tooltip.template)(l))):c.empty().append(n(o.get("components/tooltip/tooltip.html"))(l)),c.css("opacity",0),t(function(){a(s.tooltip.placement,s.location.selector),c.css("opacity",1)},e.animationDurationMilli))})}}}]),angular.module("trulescent").directive("trulescent",["$timeout","tlscTools",function(){return{restrict:"EA",scope:{start:"=",steps:"="},templateUrl:"components/trulescent/trulescent.html",controller:"trulescentCtrl",link:function(t){function e(e){if(e.transition.event){var l=angular.element(document.querySelector(e.transition.selector));l.on(e.transition.event,function(){l.off("click"),n(++o,o-1),e.postFn(),t.$apply()})}else if(e.transition.watch){var l=angular.element(document.querySelector(e.transition.selector));if(l.length)var c=l.data("$scope"),a=c.$watch(e.transition.watch,function(t){angular.isDefined(t)&&(e.transition.testValue?t===e.transition.testValue:!0)&&(a(),c[e.transition.watch]=e.transition.hasOwnProperty("afterValue")?e.transition.afterValue:c[e.transition.watch],e.postFn(),n(++o,o-1))})}}function n(n,o){t.step=t.steps[n],t.$broadcast("tlsc.backdrop.move",t.steps[n].location.selector),o>=0&&angular.element(document.querySelector(t.steps[o].location.selector)).removeClass("tlsc-element"),angular.element(document.querySelector(t.steps[n].location.selector)).addClass("tlsc-element"),t.steps[n].preFn&&t.steps[n].preFn(),e(t.steps[n])}var o=0;t.$watch("start",function(t){angular.isDefined(t)&&t&&n(o)}),t.$on("tlsc.next",function(){n(++o,o-1)}),t.$on("tlsc.prev",function(){n(--o,o+1)}),t.$on("tlsc.end",function(){o=0,angular.element(document.querySelector(".tlsc-element")).removeClass("tlsc-element"),t.start=!1})}}}]),angular.module("trulescent").controller("trulescentCtrl",["$scope",function(){}]),function(t){try{t=angular.module("trulescent")}catch(e){t=angular.module("trulescent",[])}t.run(["$templateCache",function(t){t.put("components/backdrop/backdrop.html",'<div class="tlsc-backdrop-container" ng-controller="BackdropCtrl"><div class="tlsc-backdrop"></div><div tlsc-panel="" class="tlsc-panel" placement="placement"></div></div>')}])}(),function(t){try{t=angular.module("trulescent")}catch(e){t=angular.module("trulescent",[])}t.run(["$templateCache",function(t){t.put("components/tooltip/tooltip.html",'<div class="tlsc-tooltip"><div class="tlsc-content panel-body">{{step.tooltip.content}}</div><button class="btn" ng-click="prevStep()">Back</button> <button class="btn" ng-click="nextStep()">Next</button> <button class="btn" ng-click="stop()">End</button></div>')}])}(),function(t){try{t=angular.module("trulescent")}catch(e){t=angular.module("trulescent",[])}t.run(["$templateCache",function(t){t.put("components/trulescent/trulescent.html",'<div class="tlsc-main" ng-show="start"><div ng-include="\'/components/backdrop/backdrop.html\'" ng-controller="BackdropCtrl"></div><div tlsc-tooltip="" class="tlsc-tooltip-container" step="step"></div></div>')}])}(),function(t){try{t=angular.module("trulescent")}catch(e){t=angular.module("trulescent",[])}t.run(["$templateCache",function(t){t.put("components/backdrop/panel/panel.html",'<div class="tlsc-panel"></div>')}])}();